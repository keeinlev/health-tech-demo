{% extends 'base.html' %}

{% load static %}

{% block title %}Create a New Account{% endblock %}

{% block styles %}
<link href="{% static 'appstyles/modal.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'appstyles/customform.css' %}" rel="stylesheet" type="text/css" />
{% endblock %}


{% block body %}
    <div>
        <div id="myModal" class="modal" >
            <div class="modal-content" >
                <span class="close">&times;</span>
                <img src="https://www.wchchart.ca/MyChart/WCH/assessment/img/ohip-legend.jpg">
            </div>
        </div>
        <div>
            <br />
            <div class='outer-section' style='height: 850px;max-height: 1000px; text-align: center;'>
                <form id="msform" class='site-form' style='opacity: 0%;' method="post" id="register" action="{% url 'register' %}" data-validate-email-url="{% url 'validate_email' %}" autocomplete="off">
                    {% csrf_token %}
                    <!-- fieldsets -->
                    <fieldset>
                        <h2 class="fs-title">Create your account</h2>
                        <h3 style="color:red;" class="fs-subtitle not-unique display-hidden">{{message}}</h3>
                        <h3 id="email-match-help" class="fs-subtitle display-hidden" style="color:red">Emails must match!</h3>
                        {{ form.email1 }}
                        {{ form.email1.errors }}
                        {{ form.email2 }}
                        {{ form.email2.errors }}
                        <input type="button" name="next" class="next action-button" value="Next" />
                    </fieldset>
                    <fieldset>
                        <h2 class="fs-title">Create your account</h2>
                        <h3 style="color:red;" class="fs-subtitle not-unique display-hidden">{{message}}</h3>
                        <h3 id="password-match-help" class="fs-subtitle display-hidden" style="color:red">Passwords must match and be 8 to 16 characters!</h3>
                        {{ form.password1 }}
                        {{ form.password1.errors }}
                        {{ form.password2 }}
                        {{ form.password2.errors }}
                        <input type="button" name="previous" class="previous action-button" value="Previous" />
                        <input type="button" name="next" class="next action-button" value="Next" />
                    </fieldset>
                    <fieldset>
                        <h2 class="fs-title">Personal Details</h2>
                        <h3 style="color:red;" class="fs-subtitle not-unique">{{message}}</h3>
                        {{ form.first_name }}
                        {{ form.first_name.errors }}
                        {{ form.preferred_name }}
                        {{ form.preferred_name.errors }}
                        {{ form.last_name }}
                        {{ form.last_name.errors }}
                        {{ form.dob }}
                        {{ form.dob.errors }}
                        {{ form.phone }}
                        {{ form.phone.errors }}
                        <input type="button" name="previous" class="previous action-button" value="Previous" />
                        <input type="button" name="next" class="next action-button" value="Next" />
                    </fieldset>
                    <fieldset>
                        <h2 class="fs-title">OHIP Details</h2>
                        <h3 style="color:red;" class="fs-subtitle not-unique">{{message}}</h3>
                        {{ form.ohip }}
                        {{ form.ohip.errors }}
                        <div class='row'>
                            <div class='col-12 col-md-8'>
                                {{ form.ohip_version }}
                                {{ form.ohip_version.errors }}
                            </div>
                            <div class='col-1'>
                                <br>
                                <b><a href='#' id="ohip-version-help" style='font-size: medium;'>?</a></b>
                            </div>
                            <div class='col-12'>
                                {{ form.ohip_expiry }}
                                {{ form.ohip_expiry.errors }}
                            </div>
                        </div>
                        <input type="button" name="previous" class="previous action-button" value="Previous" />
                        <input type="submit" id='register-submit' class="action-button" href="{% url 'register' %}" value="Register" disabled />
                    </fieldset>
                </form>
            </div>
            <!--<form method="post" id="register" action="{% url 'register' %}" data-validate-email-url="{% url 'validate_email' %}">
                <small style="color:red;" id="not-unique">{{message}}</small><br />
                {% csrf_token %}
                <label for="name">Name</label>
                <div class="row" id="name">
                    <div class="col">
                        {{ form.first_name }}
                        {{ form.first_name.errors }}
                    </div>
                    <div class="col">
                        {{ form.last_name }}
                        {{ form.last_name.errors }}
                    </div>
                </div>
                <br />
                <div class="form-group">
                    <label for="dob">Date of Birth</label>
                    {{ form.dob }}
                    {{ form.dob.errors }}
                </div>
                <br />
                <div class="row">
                    <div class="col">
                        <label for="email1">Email address</label>
                    </div>
                    <div class="col">
                        <label for="email2">Confirm Email address</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            {{ form.email1 }}
                            {{ form.email1.errors }}
                            <small id="email-match-help" class="form-text" style="visibility:hidden; color:red">Emails must match!</small>  
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            {{ form.email2 }}
                            {{ form.email2.errors }}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="password1">Password (Must be 8 to 16 characters)</label>
                    </div>
                    <div class="col">
                        <label for="password2">Confirm Password</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            {{ form.password1 }}
                            {{ form.password1.errors }}
                            <small id="password-match-help" class="form-text" style="visibility:hidden; color:red">Passwords must match and be 8 to 16 characters!</small>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            {{ form.password2 }}
                            {{ form.password2.errors }}
                        </div>
                    </div>
                </div>
                <label for="phonenumber">Phone Number</label>
                <div class="row" id="phonenumber">
                    <div class="col-4 col-md-3 justify-content-start">
                        <div class="form-group">
                            {{ form.phone1 }}
                            {{ form.phone1.errors }}
                        </div>
                    </div>
                    <div class="col-4 col-md-3 justify-content-start">
                        <div class="form-group">
                            {{ form.phone2 }}
                            {{ form.phone2.errors }}
                        </div>
                    </div>
                    <div class="col-4 col-md-3 justify-content-start">
                        <div class="form-group">
                            {{ form.phone3 }}
                            {{ form.phone3.errors }}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="ohipcard">OHIP Number</label>
                    </div>
                    <div class="col"></div>
                    <div class="col"></div>
                    <div class="col">
                        <label for="version">OHIP Version Code &nbsp; <b><a href='#' id="ohip-version-help">?</a></b></label>
                    </div>
                    <div class="col">
                        <label for="ohip-expiry">Expiration Date</label>
                    </div>
                </div>
                
                <div class="row" id="ohipcard">
                    <div class="col">
                        <div class="form-group">
                            {{ form.ohip1 }}
                            {{ form.ohip1.errors }}
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            {{ form.ohip2 }}
                            {{ form.ohip2.errors }}
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            {{ form.ohip3 }}
                            {{ form.ohip3.errors }}
                        </div>
                    </div>
                    
                    <div class="col" id="version">
                        <div class="form-group">
                            {{ form.ohip_version }}
                            {{ form.ohip_version.errors }}
                        </div>
                    </div>
                    <div class="col">
                        {{ form.ohip_expiry }}
                        {{ form.ohip_expiry.errors }}
                    </div>
                </div>
                {% for e in form.non_field_errors %}
                    <small style="color: red;">{{e}}</small>
                {% endfor %}
                <br />
                <input type="submit" id="register-submit" class="btn-lg btn-block btn-secondary" value="Register" disabled="true"/>
            </form>-->
        </div>
    </div>

{% endblock %}
{% block javascript %}
<script src="{% static 'jsmodules/modal.js' %}" type='text/javascript'></script>
<!--<script src="{% static 'jsmodules/autojump.js' %}" type='text/javascript'></script>-->
<script src="{% static 'jsmodules/customform.js' %}" type='text/javascript'></script>
<script src="{% static 'jsmodules/register.js' %}" type='text/javascript'></script>
<script type='text/javascript'>
    window.onload = function() {
        $('#msform').css({'opacity': '1'});
    }
</script>
{% endblock %}