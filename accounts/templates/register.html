{% extends 'base.html' %}
{% block title %}Create a New Account{% endblock %}

{% block styles %}
<link href="{% static "appstyles/modal.css" %}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block body %}
    <div class="heading">
        <h1>Welcome to the Registration Page</h1>
        <h3>Register a New Account</h3>
    </div>
    <div>
        <div id="myModal" class="modal" >
            <div class="modal-content" >
                <span class="close">&times;</span>
                <img src="https://www.wchchart.ca/MyChart/WCH/assessment/img/ohip-legend.jpg">
            </div>
        </div>
        <div>
            <br />
            
            <form method="post" id="register" action="{% url 'register' %}" data-validate-email-url="{% url 'validate_email' %}">
                <small style="color:red;" id="not-unique">{{message}}</small><br />
                {% csrf_token %}
                <label for="name">Name</label>
                <div class="row" id="name">
                    <div class="col">
                        {{ form.first_name }}
                        {{ form.first_name.errors }}
                    </div>
                    <div class="col">
                        {{ form.last_name }}
                        {{ form.last_name.errors }}
                    </div>
                </div>
                <br />
                <div class="form-group">
                    <label for="dob">Date of Birth</label>
                    {{ form.dob }}
                    {{ form.dob.errors }}
                </div>
                <br />
                <div class="row">
                    <div class="col">
                        <label for="email1">Email address</label>
                    </div>
                    <div class="col">
                        <label for="email2">Confirm Email address</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            {{ form.email1 }}
                            {{ form.email1.errors }}
                            <small id="email-match-help" class="form-text" style="visibility:hidden; color:red">Emails must match!</small>  
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            {{ form.email2 }}
                            {{ form.email2.errors }}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="password1">Password (Must be 8 to 16 characters)</label>
                    </div>
                    <div class="col">
                        <label for="password2">Confirm Password</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            {{ form.password1 }}
                            {{ form.password1.errors }}
                            <small id="password-match-help" class="form-text" style="visibility:hidden; color:red">Passwords must match and be 8 to 16 characters!</small>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            {{ form.password2 }}
                            {{ form.password2.errors }}
                        </div>
                    </div>
                </div>
                <label for="phonenumber">Phone Number</label>
                <div class="row" id="phonenumber">
                    <div class="col-4 col-md-3 justify-content-start">
                        <div class="form-group">
                            {{ form.phone1 }}
                            {{ form.phone1.errors }}
                        </div>
                    </div>
                    <div class="col-4 col-md-3 justify-content-start">
                        <div class="form-group">
                            {{ form.phone2 }}
                            {{ form.phone2.errors }}
                        </div>
                    </div>
                    <div class="col-4 col-md-3 justify-content-start">
                        <div class="form-group">
                            {{ form.phone3 }}
                            {{ form.phone3.errors }}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="ohipcard">OHIP Number</label>
                    </div>
                    <div class="col"></div>
                    <div class="col"></div>
                    <div class="col">
                        <label for="version">OHIP Version Code &nbsp; <b><a href='#' id="ohip-version-help">?</a></b></label>
                    </div>
                    <div class="col">
                        <label for="ohip-expiry">Expiration Date</label>
                    </div>
                </div>
                
                <div class="row" id="ohipcard">
                    <div class="col">
                        <div class="form-group">
                            {{ form.ohip1 }}
                            {{ form.ohip1.errors }}
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            {{ form.ohip2 }}
                            {{ form.ohip2.errors }}
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            {{ form.ohip3 }}
                            {{ form.ohip3.errors }}
                        </div>
                    </div>
                    
                    <div class="col" id="version">
                        <div class="form-group">
                            {{ form.ohip_version }}
                            {{ form.ohip_version.errors }}
                        </div>
                    </div>
                    <div class="col">
                        {{ form.ohip_expiry }}
                        {{ form.ohip_expiry.errors }}
                    </div>
                </div>
                {% for e in form.non_field_errors %}
                    <small style="color: red;">{{e}}</small>
                {% endfor %}
                <br />
                <input type="submit" id="register-submit" class="btn btn-secondary" value="Register" disabled="true"/>
            </form>
        </div>
    </div>

{% endblock %}
{% block javascript %}
<script src="{% static "jsmodules/autojump.js" %}" type="text/javascript"></script>
<script src="{% static "jsmodules/modal.js" %}" type="text/javascript"></script>
<script src="{% static "jsmodules/register.js" %}" type="text/javascript"></script>
{% endblock %}